/* exported Object__each */
function Object__each(obj, callback) {
    var key,
        hasOwn = Object.prototype.hasOwnProperty;

    for (key in obj) {
        if (hasOwn.call(obj, key)) {
            callback(key, obj[key]);
        }
    }
}

/* exported Object__isPlainObject */
function Object__isPlainObject(obj) {
    return obj instanceof Object && obj != obj.window && Object.getPrototypeOf(obj) == Object.prototype;
}

/* exported Object__extend */
function Object__extend(dst, src, deep) {
    Object__each(src, function(key, value) {
        if (deep && Object__isPlainObject(value)) {
            if (!Object__isPlainObject(dst[key])) {
                dst[key] = {};
            }
            Object__extend(dst[key], src[key], deep);
        } else if (deep && value instanceof Array) {
            if (!(dst[key] instanceof Array)) {
                dst[key] = [];
            }
            Object__extend(dst[key], src[key], deep);
        } else if (src[key] !== undefined) {
            dst[key] = src[key];
        }
    });

    return dst;
}

/* exported Object__defaults */
function Object__defaults(obj, defaults) {
    Object__each(defaults, function(key, value) {
        if (obj[key] === undefined) {
            obj[key] = value;
        }
    });

    return obj;
}
